{"version":3,"file":"handlers-CeB5icqR.js","sources":["../../src/js/constants.js","../../src/js/products-api.js","../../src/js/refs.js","../../src/js/render-function.js","../../src/js/handlers.js"],"sourcesContent":["export const STORAGE_KEYS = {\n  WISHLIST: 'wishlist',\n  CART: 'cart',\n  THEME: 'theme',\n};\n\nexport const API_BASE_URL = \"https://dummyjson.com\"\nexport const API_ENDPOINTS = {\n    CATEGORIES: \"/products/category-list\",\n    PRODUCTS: \"/products\",\n    PRODUCTS_BY_ID: \"/products/\",\n    PRODUCTS_BY_CATEGORY: \"/products/category/\",\n    SEARCH: \"/products/search\"\n}\n\n","import axios from \"axios\";\r\nimport { API_BASE_URL, API_ENDPOINTS } from \"./constants\";\r\n\r\naxios.defaults.baseURL = API_BASE_URL\r\n\r\nexport async function getCategories() {\r\n    const response = await axios.get(API_ENDPOINTS.CATEGORIES)\r\n    return response.data\r\n}\r\n\r\nexport async function getProducts(currentPage) {\r\n    const params = {\r\n        limit: 12,\r\n        skip: (currentPage - 1) * 12\r\n    }\r\n\r\n    const response = await axios.get(API_ENDPOINTS.PRODUCTS, { params })\r\n    return response.data\r\n}\r\n\r\nexport async function getProductById(id) {\r\n    const response = await axios.get(`${API_ENDPOINTS.PRODUCTS_BY_ID}${id}`)\r\n    return response.data\r\n}\r\n\r\nexport async function getProductByCategory(category) {\r\n    const response = await axios.get(`${API_ENDPOINTS.PRODUCTS_BY_CATEGORY}${category}`)\r\n    return response.data\r\n}\r\n\r\nexport async function getProductBySearch(product) {\r\n    const params = {\r\n        q: product\r\n    }\r\n\r\n    const response = await axios.get(API_ENDPOINTS.SEARCH, { params })\r\n    return response.data\r\n}\r\n","export const refs = {\n    modal: document.querySelector(\".modal\"),\n    modalCloseBtn: document.querySelector(\".modal__close-btn\"),\n    productsList: document.querySelector('.products'),\n    categoriesList: document.querySelector('.categories')\n};\n","import { refs } from './refs';\n\nexport function renderCategories(categories) {\n  const categoriesAll = [\"All\", ...categories]\n  const markup = categoriesAll\n    .map(\n      category =>\n        `<li class=\"categories__item\">\n    <button class=\"categories__btn\" type=\"button\">${category}</button>\n  </li>\n        `\n    )\n    .join('');\n  refs.categoriesList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function renderProducts(products) {\n  \n  const markup = products\n    .map(({ id, thumbnail, title, brand, category, price }) => {\n      return `<li class=\"products__item\" data-id=\"${id}\">\n        <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\" />\n        <p class=\"products__title\">${title}</p>\n        <p class=\"products__brand\">\n          <span class=\"products__brand--bold\">Brand: ${brand}</span>\n        </p>\n        <p class=\"products__category\">Category: ${category}</p>\n        <p class=\"products__price\">Price: ${price}$</p>\n      </li>`;\n    })\n    .join(\"\");\n  refs.productsList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function showNotFound(show = true) {\n  const el = document.querySelector('.not-found');\n  if (el) el.style.display = show ? 'flex' : 'none';\n}\n\nexport function showLoader(show = true) {\n  const el = document.querySelector('.loader');\n  if (el) el.style.display = show ? 'block' : 'none';\n}","import { getCategories, getProducts } from \"./products-api\";\nimport { renderCategories, renderProducts } from \"./render-function\";\nimport { getWishlistItems } from \"./storage\";\n\nlet currentPage = 1\n\nexport async function initHomePage(){\n    try{\n        const categories = await getCategories()\n        renderCategories(categories);\n        const {products} = await getProducts(currentPage);\n        renderProducts(products)\n        \n    }\n    catch(error){\n        console.log(\"error initial home page\", error);\n        \n    }\n\n}\n\nexport function onProductClick(event) {\n    console.log(\"Product clicked!\", event);\n}"],"names":["STORAGE_KEYS","API_BASE_URL","API_ENDPOINTS","axios","getCategories","getProducts","currentPage","params","getProductById","id","refs","renderCategories","categories","markup","category","renderProducts","products","thumbnail","title","brand","price","showNotFound","show","el","showLoader","initHomePage","error","onProductClick","event"],"mappings":"yCAAY,MAACA,EAAe,CAC1B,SAAU,WACV,KAAM,OACN,MAAO,OACT,EAEaC,EAAe,wBACfC,EAAgB,CACzB,WAAY,0BACZ,SAAU,YACV,eAAgB,aAChB,qBAAsB,sBACtB,OAAQ,kBACZ,ECVAC,EAAM,SAAS,QAAUF,EAElB,eAAeG,GAAgB,CAElC,OADiB,MAAMD,EAAM,IAAID,EAAc,UAAU,GACzC,IACpB,CAEO,eAAeG,EAAYC,EAAa,CAC3C,MAAMC,EAAS,CACX,MAAO,GACP,MAAOD,EAAc,GAAK,EAC7B,EAGD,OADiB,MAAMH,EAAM,IAAID,EAAc,SAAU,CAAE,OAAAK,EAAQ,GACnD,IACpB,CAEO,eAAeC,EAAeC,EAAI,CAErC,OADiB,MAAMN,EAAM,IAAI,GAAGD,EAAc,cAAc,GAAGO,CAAE,EAAE,GACvD,IACpB,CCvBY,MAACC,EAAO,CAChB,MAAO,SAAS,cAAc,QAAQ,EACtC,cAAe,SAAS,cAAc,mBAAmB,EACzD,aAAc,SAAS,cAAc,WAAW,EAChD,eAAgB,SAAS,cAAc,aAAa,CACxD,ECHO,SAASC,EAAiBC,EAAY,CAE3C,MAAMC,EADgB,CAAC,MAAO,GAAGD,CAAU,EAExC,IACCE,GACE;AAAA,oDAC4CA,CAAQ;AAAA;AAAA,SAGvD,EACA,KAAK,EAAE,EACVJ,EAAK,eAAe,mBAAmB,YAAaG,CAAM,CAC5D,CAEO,SAASE,EAAeC,EAAU,CAEvC,MAAMH,EAASG,EACZ,IAAI,CAAC,CAAE,GAAAP,EAAI,UAAAQ,EAAW,MAAAC,EAAO,MAAAC,EAAO,SAAAL,EAAU,MAAAM,KACtC,uCAAuCX,CAAE;AAAA,4CACVQ,CAAS,UAAUC,CAAK;AAAA,qCAC/BA,CAAK;AAAA;AAAA,uDAEaC,CAAK;AAAA;AAAA,kDAEVL,CAAQ;AAAA,4CACdM,CAAK;AAAA,YAE5C,EACA,KAAK,EAAE,EACVV,EAAK,aAAa,mBAAmB,YAAaG,CAAM,CAC1D,CAEO,SAASQ,EAAaC,EAAO,GAAM,CACxC,MAAMC,EAAK,SAAS,cAAc,YAAY,EAC1CA,IAAIA,EAAG,MAAM,QAAUD,EAAO,OAAS,OAC7C,CAEO,SAASE,EAAWF,EAAO,GAAM,CACtC,MAAMC,EAAK,SAAS,cAAc,SAAS,EACvCA,IAAIA,EAAG,MAAM,QAAUD,EAAO,QAAU,OAC9C,CCtCA,IAAIhB,EAAc,EAEX,eAAemB,GAAc,CAChC,GAAG,CACC,MAAMb,EAAa,MAAMR,EAAe,EACxCO,EAAiBC,CAAU,EAC3B,KAAM,CAAC,SAAAI,CAAQ,EAAI,MAAMX,EAAYC,CAAW,EAChDS,EAAeC,CAAQ,CAE1B,OACKU,EAAM,CACR,QAAQ,IAAI,0BAA2BA,CAAK,CAE/C,CAEL,CAEO,SAASC,EAAeC,EAAO,CAClC,QAAQ,IAAI,mBAAoBA,CAAK,CACzC"}